---
## Front matter
title: "Отчёт по лабораторной работе №7"
subtitle: "Дисциплина: архитектура компьютера"
author: "Тимофеева Екатерина Николаевна"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Цель работы заключается в освоении арифметических инструкций языка ассемблера NASM.

# Задание

 1. Символьные и численные данные в NASM
 
 2. Выполнение арифметических операций в NASM
 
 3. Выполнение заданий для самостоятельной работы
 
# Теоретическое введение

Большинство инструкций на языке ассемблера требуют обработки операндов. Адрес операнда предоставляет место, где хранятся данные, подлежащие обработке. Это могут быть данные хранящиеся в регистре или в ячейке памяти.

Ввод информации с клавиатуры и вывод её на экран осуществляется в символьном виде. Кодирование этой информации производится согласно кодовой таблице символов ASCII. ASCII – сокращение от American Standard Code for Information Interchange (Американский стандартный код для обмена информацией). Согласно стандарту ASCII каждый символ кодируется одним байтом. Среди инструкций NASM нет такой, которая выводит числа (не в символьном виде). Поэтому, например, чтобы вывести число, надо предварительно преобразовать его цифры в ASCII-коды этих цифр и выводить на экран эти коды, а не само число. Если же выводить число на экран непосредственно, то экран воспримет его не как число, а как последовательность ASCII-символов – каждый байт числа будет воспринят как один ASCII-символ – и выведет на экран эти символы. Аналогичная ситуация происходит и при вводе данных с клавиатуры. Введенные данные будут представлять собой символы, что сделает невозможным получение корректного результата при выполнении над ними арифметических операций. Для решения этой проблемы необходимо проводить преобразование ASCII символов в числа и обратно.
# Выполнение лабораторной работы

№1. Создаём директорию, в которой будем создавать файлы с программами для лабораторной работы №7 и переходим в созданный каталог. (рис. [-@fig:001])

![Cоздание директории и переход в каталог](./image/ка1){ #fig:001 width=70% }

Создаём файл lab7-1.asm и открываем его. (рис. [-@fig:002])

![Создание файла](./image/ка2){ #fig:002 width=70% }

Вводим в файл текст программы из листинга. (рис. [-@fig:003])

![Ввод текста](./image/ка3){ #fig:003 width=70% }

Создаём исполняемый файл программы и запускаем, программа вывела символ j. (рис. [-@fig:004])

![Создание файла](./image/ка4){ #fig:004 width=70% }

Далее изменяем текст программы, вместо стмволов "6" и "4" вводим 6 и 4. (рис. [-@fig:005])
 
![Замена текста программы](./image/ка5){ #fig:005 width=70% }

Создаём новый исполняемый файл программы и запускаем его. Вывелся символ с кодом 10, это символ перевода строки и он не отображается при выводе на экран. (рис. [-@fig:006])

![Запуск файла](./image/ка6){ #fig:006 width=70% }

Создаём новый файл lab7-2.asm (рис. [-@fig:007])

![Создание файла](./image/ка7){ #fig:007 width=70% }

Вводим в файл текст другой программы, создаём и запускаем исполняемый файл, теперь вывело число 106. (рис. [-@fig:008])

![Создание и запуск файла](./image/ка8){ #fig:008 width=70% }

Заменяем в тексте программы символы, создаём и запускаем новый исполняемый файл, программа вывела 10. (рис.[-@fig:009])

![Создание и запуск нового файла](./image/ка9){ #fig:009 width=70% }

Заменяем в тексте программы функцию iprintLF на iprint и запускаем новый файл, вывод не изменился.

№2. Создаём файл lab7-3.asm (рис. [-@fig:0010])

![Создание файла](./image/ка10){ #fig:0010 width=70% }

Вводим в созданный файл текст программы для вычисления значения выражения, создаём исполняемый файл и запускаем его. (рис. [-@fig:0011])

![Создание и запуск файла](./image/ка11){ #fig:0011 width=70% }

Изменяем программу, создаём и запускаем новый исполняемый файл. (рис. [-@fig:0012])

![Создание и запуск нового файла](./image/ка12){ #fig:0012 width=70% }

Создаём файл variant.asm (рис. [-@fig:0013])

![Создание файла](./image/ка13){ #fig:0013 width=70% }

Вводим в файл текст программы для вычисления варианта задания по номеру студенческого билета, создаём и запускаем исполняемый файл, вводим номер своего студенческого билета, вывело 7 вариант. (рис. [-@fig:0014])

![Создние и запуск файла, ввод студенческого билета](./image/ка14){ #fig:0014 width=70% }

# Ответы на вопросы по программе

1. За вывод сообщения "Ваш вариант" отвечают строки кода:

mov eax,rem
call sprint

2. Инструкция mov ecx, x используется, чтобы положить адрес вводимой строки x в регистр ecx mov edx, 80 - запись в регистр edx длины вводимой строки call sread - вызов подпрограммы из внешнего файла, обеспечивающей ввод сообщения с клавиатуры.

3. call atoi используется для вызова подпрограммы из внешнего файла, которая преобразует ascii-код символа в целое число и записывает результат в регистр eax.

4. За вычисления варианта отвечают строки:

xor edx,edx ; обнуление edx для корректной работы div
mov ebx,20 ; ebx = 20
div ebx ; eax = eax/20, edx - остаток от деления
inc edx ; edx = edx + 1

5. При выполнении инструкции div ebx остаток от деления записывается в регистр edx.

6. Инструкция inc edx увеличивает значение регистра edx на 1

7. За вывод на экран результатов вычислений отвечают строки:

mov eax,edx
call iprintLF

# Выполнение заданий для самостоятельной работы

Создаём файл для написания программы. (рис. [-@fig:0015])

![Создание файла](./image/ка15){ #fig:0015 width=70% }

Открываем созданный файл, вводим в него текст программы для вычисления выражения, создаём и запускаем исполняемый файл, выполняем проверки. (рис. [-@fig:0016])

![Создание и запуск файла, проверка](./image/ка16){ #fig:0016 width=70% }

Программа для вычисления выражения 5*(x - 1)^2 (рис. [-@fig:0017])

![Программа](./image/ка17){ #fig:0017 width=70% }



# Выводы

Мы освоили арифметические инструкции языка ассемблера NASM.

# Список литературы{.unnumbered}
 
 1. Лабораторная работа №7.
 2. Таблица ASCII
